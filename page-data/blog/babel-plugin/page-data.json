{"componentChunkName":"component---src-templates-blog-detail-js","path":"/blog/babel-plugin","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"/blog/babel-plugin\",\n  \"title\": \"Babel Plugin\",\n  \"date\": \"2024-06-19 21:01:34\",\n  \"brief\": \"在上一篇中了解了babel的工作流程之后，可以知道编译阶段其主要作用的就是插件，那么插件内部具体又是如何处理的呢？\",\n  \"tag\": \"nodejs\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u53C2\\u8003\\u8D44\\u6599\\uFF1A\"), mdx(\"ol\", {\n    parentName: \"blockquote\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md\"\n  }, \"babel-handbook \\u63D2\\u4EF6\\u5F00\\u53D1\\u624B\\u518C\"), \" \"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://juejin.cn/post/7025237833543581732\"\n  }, \"\\u7A00\\u571F\\u6398\\u91D1 - 19\\u7EC4\\u6E05\\u98CE -\\u300A\\u300C\\u524D\\u7AEF\\u57FA\\u5EFA\\u300D\\u5E26\\u4F60\\u5728Babel\\u7684\\u4E16\\u754C\\u4E2D\\u7545\\u6E38\\u300B\"), \" \"))), mdx(\"h2\", null, \"\\u524D\\u60C5\\u56DE\\u987E\"), mdx(\"h3\", null, \"\\u8F6C\\u8BD1\\u4EE3\\u7801\\u7684\\u6D41\\u7A0B\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/images/2024-04-02/compile.png\",\n    \"alt\": \"compile\"\n  })), mdx(\"p\", null, \"\\u8BCD\\u6CD5\\u5206\\u6790tokens\\u793A\\u4F8B\\uFF1A\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/images/2024-04-02/tokens.png\",\n    \"alt\": \"词法分析 tokens示例\"\n  })), mdx(\"p\", null, \"\\u4EA7\\u751F\\u7684tokens\\u5982\\u4E0B\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"[\\n    { type: '_const', value: 'const' },\\n    { type: 'name', value: 'fn' },\\n    { type: 'eq', value: '=' },\\n    { type: 'parenL', value: '(' },\\n    { type: 'parenR', value: ')' },\\n    { type: 'arrow', value: '=>' },\\n    { type: 'braceL', value: '{' },\\n    { type: 'braceR', value: '}' },\\n]\\n\")), mdx(\"h3\", null, \"AST explorer\"), mdx(\"p\", null, \"\\u67E5\\u770B\\u4EE3\\u7801\\u8F6C\\u6362\\u7684 AST \\u7ED3\\u6784\\u3002\"), mdx(\"p\", null, \"\\u5728\\u7EBF\\u8BBF\\u95EE\\u5730\\u5740\\uFF1A\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://astexplorer.net/\"\n  }, \"https://astexplorer.net/\"), \" \"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/images/2024-04-02/astexplorer.png\",\n    \"alt\": \"astexplorer\"\n  })), mdx(\"h2\", null, \"Plugin\\u7684\\u57FA\\u672C\\u683C\\u5F0F\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"module.exports = function(api, opts, dirname) {\\n  return {\\n    name: 'plugin-name',\\n    visitor: {\\n      BinaryExpression(path) {\\n        ...\\n      }\\n    },\\n    pre(file) { ... },\\n    post(file) { ... },\\n    manipulateOptions(opts, parserOpts) { ... } // \\u8C03\\u6574\\u914D\\u7F6E\\uFF0C\\u591A\\u7528\\u4E8E plugin-syntax-xxx\\n  };\\n};\\n\")), mdx(\"h3\", null, \"api\"), mdx(\"p\", null, \"api \\u5C5E\\u6027\\u91CC\\u9762\\u6302\\u8F7D\\u4E86babel\\u63D0\\u4F9B\\u7684\\u4E00\\u4E9B\\u5E38\\u7528\\u5305\\u7684api\\uFF0C\\u6BD4\\u5982 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@babel/types\"), \" \\u8FD9\\u4E2A\\u5305\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"api.types.identifier('a');\\n\\n// \\u76F8\\u5F53\\u4E8E\\nconst babelTypes = require('@babel/types');\\nbabelTypes.identifier('a');\\n\")), mdx(\"h3\", null, \"Visitors \\u8BBF\\u95EE\\u8005\"), mdx(\"p\", null, \"\\u8C03\\u7528 BinaryExpression \\u65B9\\u6CD5\\u65F6\\u8BBF\\u95EE\\u7684\\u662F path\\u8DEF\\u5F84\\u800C\\u975E\\u8282\\u70B9\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"const visitor = {\\n  BinaryExpression(path) {\\n    ...\\n  }\\n}\\n\")), mdx(\"h3\", null, \"paths \\u8DEF\\u5F84\"), mdx(\"p\", null, \"path \\u8868\\u793A AST \\u4E24\\u4E2A\\u8282\\u70B9\\u4E4B\\u95F4\\u8FDE\\u63A5\\u7684\\u5BF9\\u8C61\\u3002 \"), mdx(\"p\", null, \"\\u6BD4\\u5982\\uFF0C\\u6211\\u4EEC\\u6709\\u8FD9\\u6837\\u4E00\\u53E5\\u4EE3\\u7801\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"foo === bar\\n\")), mdx(\"p\", null, \"\\u5728 AST explorer \\u4E2D\\u67E5\\u770BAST\\u7ED3\\u6784\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"{\\n  \\\"type\\\": \\\"ExpressionStatement\\\",\\n  \\\"start\\\": 0,\\n  \\\"end\\\": 11,\\n  \\\"expression\\\": {\\n    \\\"type\\\": \\\"BinaryExpression\\\",\\n    \\\"start\\\": 0,\\n    \\\"end\\\": 11,\\n    \\\"left\\\": { // Identifier\\u8282\\u70B9 foo\\n      \\\"type\\\": \\\"Identifier\\\",\\n      \\\"start\\\": 0,\\n      \\\"end\\\": 3,\\n      \\\"name\\\": \\\"foo\\\"\\n    },\\n    \\\"operator\\\": \\\"===\\\",\\n    \\\"right\\\": { // Identifier\\u8282\\u70B9 bar\\n      \\\"type\\\": \\\"Identifier\\\",\\n      \\\"start\\\": 8,\\n      \\\"end\\\": 11,\\n      \\\"name\\\": \\\"bar\\\"\\n    }\\n  }\\n}\\n\")), mdx(\"p\", null, \"\\u5C06 Identifier\\u8282\\u70B9 foo\\u8868\\u793A\\u4E3A\\u4E00\\u4E2Apath\\u8DEF\\u5F84\\u7684\\u8BDD\\uFF0C\\u770B\\u8D77\\u6765\\u4F1A\\u662F\\u4E0B\\u9762\\u8FD9\\u6837\\u7684\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"{\\n  \\\"parent\\\": {\\n    \\\"type\\\": \\\"BinaryExpression\\\",\\n     \\\"id\\\": {...},\\n     ...\\n  },\\n  \\\"node\\\": {\\n    \\\"type\\\": \\\"Identifier\\\",\\n    \\\"name\\\": \\\"foo\\\"\\n  },\\n  // \\u4E00\\u4E9B\\u5176\\u5B83\\u6570\\u636E...\\n}\\n\")), mdx(\"p\", null, \"path \\u5BF9\\u8C61\\u8FD8\\u5305\\u542B\\u6DFB\\u52A0\\u3001\\u66F4\\u65B0\\u3001\\u79FB\\u52A8\\u548C\\u5220\\u9664\\u8282\\u70B9\\u76F8\\u5173\\u7684\\u5F88\\u591A\\u65B9\\u6CD5\\u3002\"), mdx(\"p\", null, \"\\u5728\\u67D0\\u79CD\\u610F\\u4E49\\u4E0A\\uFF0C\\u8DEF\\u5F84\\u662F\\u4E00\\u4E2A\\u8282\\u70B9\\u5728\\u6811\\u4E2D\\u7684\\u4F4D\\u7F6E\\u4EE5\\u53CA\\u5173\\u4E8E\\u8BE5\\u8282\\u70B9\\u5404\\u79CD\\u4FE1\\u606F\\u7684\\u54CD\\u5E94\\u5F0F\\uFF08\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Reactive\"), \"\\uFF09\\u8868\\u793A\\u3002 \\u5F53\\u6211\\u4EEC\\u8C03\\u7528\\u4E00\\u4E2A\\u4FEE\\u6539\\u6811\\u7684\\u65B9\\u6CD5\\u540E\\uFF0C\\u8DEF\\u5F84\\u4FE1\\u606F\\u4E5F\\u4F1A\\u88AB\\u66F4\\u65B0\\u3002 \"), mdx(\"p\", null, \"Babel \\u5E2E\\u6211\\u4EEC\\u7BA1\\u7406\\u8FD9\\u4E00\\u5207\\uFF0C\\u4ECE\\u800C\\u4F7F\\u5F97\\u8282\\u70B9\\u64CD\\u4F5C\\u7B80\\u5355\\uFF0C\\u5C3D\\u53EF\\u80FD\\u505A\\u5230\\u65E0\\u72B6\\u6001\\u3002\"), mdx(\"h2\", null, \"\\u81EA\\u5B9A\\u4E49Plugin\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// \\u6E90\\u4EE3\\u7801\\nfoo === bar\\n\\n// \\u671F\\u5F85\\u8F6C\\u6362\\u540E\\u7684\\u4EE3\\u7801\\nabc === 2\\n\")), mdx(\"p\", null, \"\\u5C06\\u4E0A\\u8FF0\\u4EE3\\u7801\\u5206\\u522B\\u7C98\\u8D34\\u5230 AST explorer \\u4E2D\\u67E5\\u770BAST\\u7ED3\\u6784\\uFF0C\\u7ED8\\u5236\\u6210\\u56FE\\uFF0C\\u5982\\u4E0B\\uFF1A\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/images/2024-04-02/nodes.png\",\n    \"alt\": \"nodes\"\n  })), mdx(\"p\", null, \"\\uFF08\\u5DE6\\uFF09\\u6E90\\u4EE3\\u7801\\u7684AST\\uFF0C\\uFF08\\u53F3\\uFF09\\u8F6C\\u6362\\u540E\\u4EE3\\u7801\\u7684AST\\u3002\"), mdx(\"p\", null, \"\\u5BF9\\u6BD4\\u8F6C\\u6362\\u524D\\u540E\\u7684AST\\u5DEE\\u5F02\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u8FD9\\u6837\\u4E66\\u5199\\u63D2\\u4EF6\\u4EE3\\u7801\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"module.exports = function(api, options, dirname) {\\n  return {\\n    visitor: {\\n      BinaryExpression(path) {\\n        const node = path.node;\\n  \\n        if (node.operator !== '===') {\\n          return;\\n        }\\n        \\n        // \\u4F7F\\u7528identifier\\u65B9\\u6CD5\\u521B\\u5EFAnode\\n        node.left = api.types.identifier('abc');\\n        // \\u4F7F\\u7528numericLiteral\\u65B9\\u6CD5\\u521B\\u5EFAnode\\n        node.right = api.types.numericLiteral(2);\\n      }\\n    },\\n  };\\n};\\n\")), mdx(\"h2\", null, \"ES6\\u7BAD\\u5934\\u51FD\\u6570\\u8F6C\\u6362\"), mdx(\"p\", null, \"babel\\u4E2D\\u5904\\u7406ES6\\u7BAD\\u5934\\u51FD\\u6570\\u7528\\u5230\\u7684\\u63D2\\u4EF6\\u662F \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@babel/plugin-transform-arrow-functions\"), \" \\uFF0C\\u5DF2\\u9ED8\\u8BA4\\u5305\\u542B\\u5728 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@babel/preset-env\"), \" \\u4E2D\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// \\u6E90\\u4EE3\\u7801 input\\nconst arrowFunc = () => {\\n  console.log(this);\\n}\\n\\n// @babel/plugin-transform-arrow-functions \\u8F6C\\u6362\\u540E\\u7684\\u4EE3\\u7801 output\\nvar _this = this;\\nconst arrowFunc = function () {\\n  console.log(_this);\\n};\\n\")), mdx(\"p\", null, \"AST \\u5BF9\\u6BD4\\uFF1A\"), mdx(\"p\", null, \"input\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/images/2024-04-02/code-ast-before.png\",\n    \"alt\": \"code-ast-before\"\n  })), mdx(\"p\", null, \"output\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/images/2024-04-02/code-ast-after.png\",\n    \"alt\": \"code-ast-after\"\n  })), mdx(\"p\", null, \"\\u5BF9\\u6BD4\\u53EF\\u4EE5\\u53D1\\u73B0\\uFF0C\\u4E3B\\u8981\\u6709\\u4EE5\\u4E0B\\u4E09\\u5904\\u4E0D\\u540C\\uFF1A\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u5728\\u7BAD\\u5934\\u51FD\\u6570\\u540C\\u4F5C\\u7528\\u57DF\\u5185\\u989D\\u5916\\u6DFB\\u52A0\\u4E86\\u4E00\\u4E2A\\u53D8\\u91CF\\u58F0\\u660E\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"var _this = this\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u9488\\u5BF9\\u7BAD\\u5934\\u51FD\\u6570\\u7684body\\uFF0C\\u8C03\\u7528\\u8868\\u8FBE\\u5F0F\\u58F0\\u660E \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ExpressionStatement\"), \" \\u65F6\\uFF0C\\u4F20\\u5165\\u7684 arguments \\u4ECE \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ThisExpression\"), \" \\u66F4\\u6362\\u6210\\u4E86 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Identifier\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\u5C06\\u7BAD\\u5934\\u51FD\\u6570\\u7684\\u8282\\u70B9 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ArrowFunctionExpression\"), \" \\u66FF\\u6362\\u6210\\u4E86 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"FunctionDeclaration\"))), mdx(\"p\", null, \"\\u4E0A\\u8FF0\\u63D2\\u4EF6\\u7684\\u5B9E\\u73B0\\u601D\\u8DEF\\u5982\\u4E0B\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"module.exports = function(api, options, dirname) {\\n  return {\\n    visitor: {\\n      ArrowFunctionExpression(path) {\\n        const node = path.node;\\n        // to do...\\n      }\\n    },\\n  };\\n};\\n\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5F80\\u4E0A\\u67E5\\u627E\\uFF0C\\u76F4\\u5230\\u627E\\u5230\\u6700\\u8FD1\\u9876\\u90E8\\u975E\\u7BAD\\u5934\\u51FD\\u6570\\u7684this\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// nodePath.findParent() \\u627E\\u5230\\u7279\\u5B9A\\u7684\\u7236\\u8DEF\\u5F84\\uFF0Ccallback\\u643A\\u5E26\\u53C2\\u6570NodePath\\nconst thisEnvFn = nodePath.findParent((p) => {\\n  // node.isXXX \\u68C0\\u67E5\\u8282\\u70B9\\u7C7B\\u578B\\n  return (p.isFunction() && !p.isArrowFunctionExpression()) || p.isProgram();\\n});\\n\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u67E5\\u627E\\u5F53\\u524D\\u4F5C\\u7528\\u57DF\\u4E2D\\u54EA\\u4E9B\\u5730\\u65B9\\u7528\\u5230\\u4E86this\\u7684\\u8282\\u70B9\\u8DEF\\u5F84\\uFF0C\\u8BB0\\u4F5C \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"thisPaths\")), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"const thisPaths = [];\\n// nodePath.traverse() \\u904D\\u5386\\u8DEF\\u5F84\\nthisEnvFn.traverse({\\n  ThisExpression(thisPath) {\\n    thisPaths.push(thisPath);\\n  },\\n});\\n\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u751F\\u6210\\u5F53\\u524D\\u4F5C\\u7528\\u57DF\\u5185\\u7ED1\\u5B9A\\u7684this\\u53D8\\u91CF\\u522B\\u540D\\uFF0C\\u5F97\\u5230 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_this{n}\"), \" \\uFF08\\u53EF\\u80FD\\u4E3A _this1, _this2, ...\\uFF09\\uFF0C\\u8BB0\\u4F5C \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"thisBindingsName\")), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"let n = '';\\nlet name = '_this';\\n\\n// nodePath.scope.hasBinding(name) \\u68C0\\u67E5\\u6307\\u5B9A\\u53D8\\u91CF\\u662F\\u5426\\u88AB\\u5F53\\u524D\\u4F5C\\u7528\\u57DF\\u7ED1\\u5B9A\\nif (path.scope.hasBinding(`${name}${n}`)) {\\n  // \\u9012\\u5F52\\u5904\\u7406\\uFF0C\\u8FD4\\u56DE _this{+n + 1}\\n}\\n// \\u5426\\u5219\\u76F4\\u63A5\\u8FD4\\u56DEname\\uFF0C\\u5373 _this\\n\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u751F\\u6210 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"var _this = this\"), \" \\u8FD9\\u53E5\\u4EE3\\u7801\\u4E2D\\u5BF9\\u5E94\\u7684AST\\u8282\\u70B9\\u3002\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// nodePath.scope.push() \\u5728\\u4F5C\\u7528\\u57DF\\u5185\\u5206\\u914D\\u4E00\\u4E2A\\u53D8\\u91CF\\u58F0\\u660E\\nthisEnvFn.scope.push({\\n  id: api.types.identifier(thisBindingsName),\\n  init: api.types.thisExpression(),\\n});\\n\")))), mdx(\"ol\", {\n    \"start\": 5\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u5C06\\u4F5C\\u7528\\u57DF\\u4E2D\\u7528\\u5230\\u7684 this \\u66FF\\u6362\\u4E3A thisBindingsName \\u7684\\u503C\\uFF0C\\u5373 this \\u66FF\\u6362\\u4E3A _this{n}\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"thisPaths.forEach((thisPath) => {\\n  const replaceNode = api.types.identifier(thisBindingsName);\\n  // nodePath.replaceWith(nodePath) \\u66FF\\u6362\\u5355\\u4E2A\\u8282\\u70B9\\n  thisPath.replaceWith(replaceNode);\\n});\\n\")))), mdx(\"ol\", {\n    \"start\": 6\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u7BAD\\u5934\\u51FD\\u6570\\u8282\\u70B9\\u7C7B\\u578B\"), mdx(\"pre\", {\n    parentName: \"li\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"node.type = 'FunctionDeclaration';\\n\")))), mdx(\"p\", null, \"\\u8FD9\\u6837\\u4E0A\\u8FF0\\u4EE3\\u7801\\u7684AST\\u8F6C\\u6362\\u5C31\\u57FA\\u672C\\u5B8C\\u6210\\u4E86\\uFF0C\\u4F46\\u662F\\u5C40\\u9650\\u6027\\u4E5F\\u6BD4\\u8F83\\u660E\\u663E\\uFF0Cbabel\\u7BAD\\u5934\\u51FD\\u6570\\u8F6C\\u6362\\u7684\\u5B98\\u65B9\\u63D2\\u4EF6\\uFF08\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"@babel/plugin-transform-arrow-functions\"), \"\\uFF09\\u6E90\\u7801\\u4E2D\\u7684\\u5904\\u7406\\u5176\\u5B9E\\u6BD4\\u8FD9\\u91CC\\u8981\\u8003\\u8651\\u7684\\u591A\\u5F97\\u591A\\uFF0C\\u611F\\u5174\\u8DA3\\u7684\\u53EF\\u4EE5\\u9605\\u8BFB\\u6E90\\u7801\\uFF0C\\u4E86\\u89E3\\u66F4\\u591A\\u7EC6\\u8282\\u3002\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"date":"2024-06-19 21:01:34","title":"Babel Plugin","slug":"/blog/babel-plugin"}}},"pageContext":{"slug":"/blog/babel-plugin","next":"/blog/babel-workflow","previous":null}},"staticQueryHashes":[]}